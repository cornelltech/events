<!-- base.html -->

<!DOCTYPE html>
<html lang="en">
  

<head>
  <title>Cornell Tech Does Events</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

  <!-- Bootstrap core CSS -->
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/css/select2.min.css" rel="stylesheet" />

  <link href="{{url_for('static', filename='css/app.css')}}" rel="stylesheet">

  <style>
    body,
    body {
      background-image: url("{{url_for('static', filename='assets/ps_neutral.png')}}");
      background-repeat: repeat;
    }
  </style>
</head>

<body>

  <div class="app-container">
    
    <!--<div class="row row-offcanvas row-offcanvas-right">
      <div class="jumbotron">
        <h1>Cornell Does Events!</h1>
        <p>an exciting catalog.</p>
      </div>
    </div>-->
    <!-- /row-->
    
    <div class="filter-container">
      <button class="btn btn-default filter-btn" data-filter-value="*">All</button>
      <button class="btn btn-default filter-btn" data-filter-value=".talk">Talks</button>
      <button class="btn btn-default filter-btn" data-filter-value=".conference">Conferences</button>
      <button class="btn btn-default filter-btn" data-filter-value=".recruitment">Recruitement</button>
      <button class="btn btn-default filter-btn" data-filter-value=".showcase">Showcase</button>
      <button class="btn btn-default filter-btn" data-filter-value=".discussion">Discussion</button>
      <button class="btn btn-default filter-btn" data-filter-value=".hackathon">Hackathon</button>
    </div>

    <div class="tag-filter">
      <select name="select"  multiple="multiple"> <!--Supplement an id here instead of using 'name'-->
        {% for tag in tags %}
        <option value="{{ tag.title }}">{{ tag.title }}</option> 
        {% endfor %}
      </select>

    </div>
    
    <div class="grid">
      
      {% for event in events %}
      <div class="grid-item animated fadeIn 
                  {% for tag in event.tags %}tag-{{ tag.title.lower().replace(' ', '_') }} {% endfor %}
                  {{ event.category }}"
           data-toggle="modal" 
           data-target="#event-modal-{{ event.sys['id'] }}">
        
        <div class="header">
          <div class="date">
            <p>{{ event.start_time.strftime('%a') }}</p>
            <p>{{ event.start_time.strftime('%d %b') }}</p>
          </div>
          <div class="category category-filter">
            <p data-category="{{ event.category }}">{{ event.category }}</p>
          </div>
        </div>

        <div class="details">
          <h2 class="max-lines">{{ event.event_title }}</h2>
          <p class="overflow-ellipsis">{{ event.description|e }} </p>

          <div class="tags">
            {% for tag in event.tags %}<span class="underline" data-tag="{{ tag.title }}">#{{ tag.title }}</span> {% endfor %}
          </div>
        </div>

      </div>
      <!--/.grid-item-->
      {% endfor %}

    </div>
    <!--/grid-->
    
  </div>
  <!-- /container -->



  <!-- Modals List -->
  {% for event in events %}
  <div class="modal animated fadeIn" tabindex="-1" role="dialog" id="event-modal-{{ event.sys['id'] }}">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        </div>
        <div class="modal-body">
          
          <div class="heading">
            <h4>{{ event.event_title }}</h4>
          </div>

          {% if event.start_time %}
          <div class="details-section time">
            <p>{{ event.start_time.strftime('%I:%M%p %A, %d %B') }}</p>

            {% if event.end_time %}<p class="hyphen">-</p><p>{{ event.end_time.strftime('%I:%M%p %A, %d %B') }}</p>{% endif %}
          </div>
          {% endif %}

          {% if event.location_object %}
            {% for loc in event.location_object %}
            <div class="details-section location">
              <p>
                <span>{{ loc.room }},</span>
                {{ loc.name }}
              </p>
            </div>
            {% endfor %}
          {% endif %}

          {% if event.category %}
          <div class="details-section labels">
            <h4>{{ event.category }}</h4>
            <div class="detail-tags">
              {% for tag in event.tags %}<span class="pill {{ event.category }}">#{{ tag.title }}</span> {% endfor %}
            </div>
          </div>
          {% endif %}

          {% if event.description %}
          <div class="details-section description">
            <p>{{ event.description|e }}</p>
          </div>
          {% endif %}

        </div>
        
        <!--No need for now-->
        <!--
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div>
        -->

      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->
  {% endfor %}
  <!-- /Modals List -->


  <!--JS Files-->
  <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/js/select2.min.js"></script>
  <!--App JS-->
  <script src="{{url_for('static', filename='js/app.js')}}"></script>

</body>

</html>
